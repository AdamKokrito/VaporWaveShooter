[gd_scene load_steps=6 format=3 uid="uid://d3qg6rfdwp5kr"]

[ext_resource type="PackedScene" uid="uid://dm3gqheyx1prf" path="res://scenes/test.tscn" id="1_o5qli"]
[ext_resource type="Script" uid="uid://bk8buroylsa04" path="res://scripts/game/game_manager.gd" id="1_sugp2"]
[ext_resource type="Script" uid="uid://b5j4x7xtlwyf" path="res://scripts/game/wave_manager.gd" id="2_jyhfs"]
[ext_resource type="PackedScene" uid="uid://d3f4d5lvcbvvk" path="res://scenes/interface.tscn" id="5_tbgi4"]
[ext_resource type="PackedScene" uid="uid://bhop26d66s581" path="res://scenes/player.tscn" id="5_tefeu"]

[node name="Main" type="Node"]

[node name="Managers" type="Node" parent="."]

[node name="GameManager" type="Node" parent="Managers"]
script = ExtResource("1_sugp2")

[node name="WaveManager" type="Node" parent="Managers" node_paths=PackedStringArray("spawns", "player")]
script = ExtResource("2_jyhfs")
spawns = NodePath("../../CurrentLevel/Spawner")
player = NodePath("../../CurrentLevel/Player")

[node name="SpawnTimer" type="Timer" parent="Managers/WaveManager"]
wait_time = 2.0
autostart = true

[node name="TickTimer" type="Timer" parent="Managers/WaveManager"]
wait_time = 0.2
autostart = true

[node name="CurrentLevel" type="Node3D" parent="."]

[node name="Test" parent="CurrentLevel" instance=ExtResource("1_o5qli")]

[node name="Spawner" type="Node3D" parent="CurrentLevel"]

[node name="Spawn1" type="Marker3D" parent="CurrentLevel/Spawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14, 0, 0)

[node name="Spawn2" type="Marker3D" parent="CurrentLevel/Spawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14, 0, 0)

[node name="Spawn3" type="Marker3D" parent="CurrentLevel/Spawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 14)

[node name="Spawn4" type="Marker3D" parent="CurrentLevel/Spawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -14)

[node name="Player" parent="CurrentLevel" instance=ExtResource("5_tefeu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0)

[node name="Interface" parent="." node_paths=PackedStringArray("player", "wave_manager") instance=ExtResource("5_tbgi4")]
player = NodePath("../CurrentLevel/Player")
wave_manager = NodePath("../Managers/WaveManager")

[connection signal="timeout" from="Managers/WaveManager/SpawnTimer" to="Managers/WaveManager" method="_on_spawn_timer_timeout"]
